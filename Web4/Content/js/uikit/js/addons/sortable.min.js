/*! UIkit 2.10.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
(function(n){var t;jQuery&&jQuery.UIkit&&(t=n(jQuery,jQuery.UIkit));typeof define=="function"&&define.amd&&define("uikit-sortable",["uikit"],function(){return t||n(jQuery,jQuery.UIkit)})})(function(n,t){"use strict";function c(n,t){var r=n.parentNode,i;if(t.parentNode!=r)return!1;for(i=n.previousSibling;i&&i.nodeType!==9;){if(i===t)return!0;i=i.previousSibling}return!1}function l(n,t){var i=t;if(i==n)return null;while(i){if(i.parentNode===n)return i;if(i=i.parentNode,!i||!i.ownerDocument||i.nodeType===11)break}return null}function h(n){n.stopPropagation&&n.stopPropagation();n.preventDefault&&n.preventDefault();n.returnValue=!1}var r="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,f=!r&&function(){var n=document.createElement("div");return"draggable"in n||"ondragstart"in n&&"ondrop"in n}(),i,o,s,e,u;f=!1;t.component("sortable",{defaults:{warp:!1,animation:150,threshold:10,childClass:"uk-sortable-item",placeholderClass:"uk-sortable-placeholder",overClass:"uk-sortable-over",draggingClass:"uk-sortable-dragged",dragMovingClass:"uk-sortable-moving",dragCustomClass:"",handleClass:!1,stop:function(){},start:function(){},change:function(){}},init:function(){function v(i){return function(u){var o=r&&u.touches&&u.touches[0]||{},f=o.target||u.target,e;r&&document.elementFromPoint&&(f=document.elementFromPoint(u.pageX-document.body.scrollLeft,u.pageY-document.body.scrollTop));n(f).hasClass(t.options.childClass)?i.apply(f,[u]):f!==c&&(e=l(c,f),e&&i.apply(e,[u]))}}function it(){f||(r?c.addEventListener("touchmove",g,!1):(c.addEventListener("mouseover",p,!1),c.addEventListener("mouseout",w,!1)),c.addEventListener(r?"touchend":"mouseup",b,!1),document.addEventListener(r?"touchend":"mouseup",k,!1),document.addEventListener("selectstart",h,!1))}function rt(){f||(r?c.removeEventListener("touchmove",g,!1):(c.removeEventListener("mouseover",p,!1),c.removeEventListener("mouseout",w,!1)),c.removeEventListener(r?"touchend":"mouseup",b,!1),document.removeEventListener(r?"touchend":"mouseup",k,!1),document.removeEventListener("selectstart",h,!1))}var t=this,c=this.element[0],a=null,y=null,nt;if(f)this.element.children().attr("draggable","true");else this.element.on("mousedown touchstart","a[href]",function(t){t.ctrlKey||t.metaKey||t.shiftKey||(e=n(this))}).on("click","a[href]",function(t){if(!t.ctrlKey&&!t.metaKey&&!t.shiftKey)return e=n(this),t.stopImmediatePropagation(),!1});var d=v(function(e){var v,p,y,h,l;(o=!1,s=!1,v=n(e.target),p=t.element.children(),r||e.button!=2)&&(!t.options.handleClass||(y=v.hasClass(t.options.handleClass)?v:v.closest("."+t.options.handleClass,c),y.length))&&(e.dataTransfer&&(e.dataTransfer.effectAllowed="move",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("Text","*")),a=this,i&&i.remove(),h=n(a),l=h.offset(),u={pos:{x:e.pageX,y:e.pageY},threshold:t.options.threshold,apply:function(){i=n('<div class="'+[t.options.draggingClass,t.options.dragCustomClass].join(" ")+'"><\/div>').css({display:"none",top:l.top,left:l.left,width:h.width(),height:h.height(),padding:h.css("padding")}).data("mouse-offset",{left:l.left-parseInt(e.pageX,10),top:l.top-parseInt(e.pageY,10)}).append(h.html()).appendTo("body");i.$current=h;i.$sortable=t;it();t.options.start(this,a);t.trigger("sortable-start",[t,a]);u=!1}},f||e.preventDefault())}),tt=v(function(n){return a?(n.preventDefault&&n.preventDefault(),!1):!0}),p=v(n.UIkit.Utils.debounce(function(){if(!a||a===this)return!0;var i=t.dragenterData(this);return t.dragenterData(this,i+1),i===0&&(n(this).addClass(t.options.overClass),t.options.warp||t.moveElementNextTo(a,this)),!1}),40),w=v(function(){var i=t.dragenterData(this);t.dragenterData(this,i-1);t.dragenterData(this)||(n(this).removeClass(t.options.overClass),t.dragenterData(this,!1))}),b=v(function(n){if(n.type==="drop"&&(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()),s){if(t.options.warp){var i=a.nextSibling;this.parentNode.insertBefore(a,this);this.parentNode.insertBefore(this,i)}t.options.change(this,a);t.trigger("sortable-change",[t,a])}}),k=function(){a=null;y=null;t.element.children().each(function(){this.nodeType===1&&(n(this).removeClass(t.options.overClass).removeClass(t.options.placeholderClass).removeClass(t.options.childClass),t.dragenterData(this,!1))});n("html").removeClass(t.options.dragMovingClass);rt();t.options.stop(this);t.trigger("sortable-stop",[t]);i.remove();i=null},g=v(function(i){return!a||a===this||y===this?!0:(nt.removeClass(t.options.overClass),y=this,t.options.warp?n(this).addClass(t.options.overClass):t.moveElementNextTo(a,this),h(i))});f?(c.addEventListener("dragstart",d,!1),c.addEventListener("dragenter",p,!1),c.addEventListener("dragleave",w,!1),c.addEventListener("drop",b,!1),c.addEventListener("dragover",tt,!1),c.addEventListener("dragend",k,!1)):c.addEventListener(r?"touchstart":"mousedown",d,!1)},dragenterData:function(t,i){if(t=n(t),arguments.length==1)return parseInt(t.attr("data-child-dragenter"),10)||0;i?t.attr("data-child-dragenter",Math.max(0,i)):t.removeAttr("data-child-dragenter")},moveElementNextTo:function(i,r){s=!0;var u=this,f=n(i).parent().css("min-height",""),o=c(i,r)?r:r.nextSibling,e=f.children(),h=e.length;if(u.options.warp||!u.options.animation){r.parentNode.insertBefore(i,o);t.Utils.checkDisplay(u.element);return}f.css("min-height",f.height());e.stop().each(function(){var t=n(this),i=t.position();i.width=t.width();t.data("offset-before",i)});r.parentNode.insertBefore(i,o);e=f.children().each(function(){var t=n(this);t.data("offset-after",t.position())}).each(function(){var i=n(this),t=i.data("offset-before");i.css({position:"absolute",top:t.top,left:t.left,"min-width":t.width})});e.each(function(){var i=n(this),e=i.data("offset-before"),r=i.data("offset-after");i.css("pointer-events","none").width();setTimeout(function(){i.animate({top:r.top,left:r.left},u.options.animation,function(){i.css({position:"",top:"",left:"","min-width":"","pointer-events":""}).removeClass(u.options.overClass).attr("data-child-dragenter","");h--;h||(f.css("min-height",""),t.Utils.checkDisplay(i))})},0)})}});t.ready(function(i){n("[data-uk-sortable]",i).each(function(){var i=n(this),r;i.data("sortable")||(r=t.sortable(i,t.Utils.options(i.attr("data-uk-sortable"))))})});t.$doc.on("mousemove touchmove",function(t){if(u&&(Math.abs(t.pageX-u.pos.x)>u.threshold||Math.abs(t.pageY-u.pos.y)>u.threshold)&&u.apply(),i){o||(o=!0,i.show(),i.$current.addClass(i.$sortable.options.placeholderClass),i.$sortable.element.children().addClass(i.$sortable.options.childClass),n("html").addClass(i.$sortable.options.dragMovingClass));var r=i.data("mouse-offset"),f=parseInt(t.originalEvent.pageX,10)+r.left,e=parseInt(t.originalEvent.pageY,10)+r.top;i.css({left:f,top:e})}});t.$doc.on("mouseup touchend",function(){!o&&e&&(location.href=e.attr("href"));u=e=!1});return t.sortable});
//# sourceMappingURL=sortable.min.js.map
