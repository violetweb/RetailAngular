(function(){var r,u,f,n,t,e,o,s,i,h,l={}.hasOwnProperty,c=function(n,t){function r(){this.constructor=n}for(var i in t)l.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};angular.module("angular-table",[]);r=function(){function n(n,t){this.attribute=n.attribute;this.title=n.title;this.sortable=n.sortable;this.width=n.width;this.initialSorting=n.initialSorting;t&&(this.customContent=t.customContent,this.attributes=t.attributes)}return n.prototype.createElement=function(){return angular.element(document.createElement("th"))},n.prototype.renderTitle=function(n){return n.html(this.customContent||this.title)},n.prototype.renderAttributes=function(n){var i,t,f,r,u;if(this.customContent){for(r=this.attributes,u=[],t=0,f=r.length;t<f;t++)i=r[t],u.push(n.attr(i.name,i.value));return u}},n.prototype.renderSorting=function(n){var t;if(this.sortable)return n.attr("ng-click","predicate = '"+this.attribute+"'; descending = !descending;"),t=angular.element("<i style='margin-left: 10px;'><\/i>"),t.attr("ng-class","getSortIcon('"+this.attribute+"', predicate)"),n.append(t)},n.prototype.renderWidth=function(n){return n.attr("width",this.width)},n.prototype.renderHtml=function(){var n;return n=this.createElement(),this.renderTitle(n),this.renderAttributes(n),this.renderSorting(n),this.renderWidth(n),n},n}();i=function(){function n(n){this.configObjectName=n;this.itemsPerPage=""+this.configObjectName+".itemsPerPage";this.sortContext=""+this.configObjectName+".sortContext";this.fillLastPage=""+this.configObjectName+".fillLastPage";this.maxPages=""+this.configObjectName+".maxPages";this.currentPage=""+this.configObjectName+".currentPage";this.orderBy=""+this.configObjectName+".orderBy"}return n}();n=function(){function n(n,t,i){this.scope=n;this.configurationVariableNames=t;this.listName=i}return n.prototype.getList=function(){return this.scope.$eval(this.listName)},n.prototype.getItemsPerPage=function(){return this.scope.$eval(this.configurationVariableNames.itemsPerPage)||10},n.prototype.getCurrentPage=function(){return this.scope.$eval(this.configurationVariableNames.currentPage)||0},n.prototype.getMaxPages=function(){return this.scope.$eval(this.configurationVariableNames.maxPages)||void 0},n.prototype.getSortContext=function(){return this.scope.$eval(this.configurationVariableNames.sortContext)||"global"},n.prototype.setCurrentPage=function(n){return this.scope.$eval(""+this.configurationVariableNames.currentPage+"="+n)},n.prototype.getOrderBy=function(){return this.scope.$eval(this.configurationVariableNames.orderBy)||"orderBy"},n}();s=function(){function n(n,t){this.tableElement=n;this.attributes=t;this.id=this.attributes.id;this.config=this.attributes.atConfig;this.paginated=this.attributes.atPaginated!=null;this.list=this.attributes.atList;this.createColumnConfigurations()}return n.prototype.capitaliseFirstLetter=function(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""},n.prototype.extractWidth=function(n){var t;return t=/([0-9]+px)/i.exec(n),t?t[0]:""},n.prototype.isSortable=function(n){var t;return t=/(sortable)/i.exec(n),t?!0:!1},n.prototype.getInitialSorting=function(n){var t;if(t=n.attr("at-initial-sorting"),t){if(t==="asc"||t==="desc")return t;throw"Invalid value for initial-sorting: "+t+". Allowed values are 'asc' or 'desc'.";}return void 0},n.prototype.collectHeaderMarkup=function(n){var r,t,f,i,e,u;for(r={},f=n.find("tr"),u=f.find("th"),i=0,e=u.length;i<e;i++)t=u[i],t=angular.element(t),r[t.attr("at-attribute")]={customContent:t.html(),attributes:t[0].attributes};return r},n.prototype.collectBodyMarkup=function(n){var f,r,e,o,t,s,h,i,c,u;for(r=[],u=n.find("td"),i=0,c=u.length;i<c;i++)t=u[i],t=angular.element(t),f=t.attr("at-attribute"),s=t.attr("at-title")||this.capitaliseFirstLetter(t.attr("at-attribute")),o=t.attr("at-sortable")!==void 0||this.isSortable(t.attr("class")),h=this.extractWidth(t.attr("class")),e=this.getInitialSorting(t),r.push({attribute:f,title:s,sortable:o,width:h,initialSorting:e});return r},n.prototype.createColumnConfigurations=function(){var t,u,i,n,f;for(u=this.collectHeaderMarkup(this.tableElement),t=this.collectBodyMarkup(this.tableElement),this.columnConfigurations=[],n=0,f=t.length;n<f;n++)i=t[n],this.columnConfigurations.push(new r(i,u[i.attribute]))},n}();t=function(){function n(){}return n.prototype.setupTr=function(n,t){var i,r;return i=n.find("tbody"),r=i.find("tr"),r.attr("ng-repeat",t),i},n}();e=function(n){function t(n,t){this.list=t;this.repeatString="item in "+this.list+" | orderBy:predicate:descending"}return c(t,n),t.prototype.compile=function(n){return this.setupTr(n,this.repeatString)},t.prototype.link=function(){},t}(t);f=function(t){function i(n){this.configurationVariableNames=n;this.repeatString="item in sortedAndPaginatedList | filter:search"}return c(i,t),i.prototype.compile=function(n){var t,f,o,r,u,i,e;for(f=this.setupTr(n,this.repeatString),u=n.find("td"),r="",i=0,e=u.length;i<e;i++)o=u[i],r+="<td>&nbsp;<\/td>";t=angular.element(document.createElement("tr"));t.attr("ng-show",this.configurationVariableNames.fillLastPage);t.html(r);t.attr("ng-repeat","item in fillerArray");f.append(t)},i.prototype.link=function(t,i,r,u){var o,s,h,e,f;return o=this.configurationVariableNames,f=new n(t,o,r.atList),h=function(n,t,i,r,u,f,e,o){var h,s;return n?(s=n,h=i*t-n.length,u==="global"?(s=o(r)(s,f,e),s=o("limitTo")(s,h),s=o("limitTo")(s,i)):(s=o("limitTo")(s,h),s=o("limitTo")(s,i),s=o(r)(s,f,e)),s):[]},s=function(n,t,i,r){var v,h,u,f,e,o,c,s,l,a;if(r=parseInt(r),n.length<=0){for(l=[],u=f=0,o=r-1;0<=o?f<=o:f>=o;u=0<=o?++f:--f)l.push(u);return l}if(t===i-1){if(h=n.length%r,h!==0){for(v=r-h-1,a=[],u=e=c=n.length,s=n.length+v;c<=s?e<=s:e>=s;u=c<=s?++e:--e)a.push(u);return a}return[]}},e=function(){var n;return t.sortedAndPaginatedList=h(f.getList(),f.getCurrentPage(),f.getItemsPerPage(),f.getOrderBy(),f.getSortContext(),t.predicate,t.descending,u),n=Math.ceil(f.getList().length/f.getItemsPerPage()),t.fillerArray=s(f.getList(),f.getCurrentPage(),n,f.getItemsPerPage())},t.$watch(o.currentPage,function(){return e()}),t.$watch(o.itemsPerPage,function(){return e()}),t.$watch(o.sortContext,function(){return e()}),t.$watchCollection(r.atList,function(){return e()}),t.$watch(""+r.atList+".length",function(){return t.numberOfPages=Math.ceil(f.getList().length/f.getItemsPerPage()),e()}),t.$watch("predicate",function(){return e()}),t.$watch("descending",function(){return e()})},i}(t);o=function(){function n(n,t,i){this.element=n;this.tableConfiguration=t;this.configurationVariableNames=i}return n.prototype.constructHeader=function(){var r,t,n,u,i;for(t=angular.element(document.createElement("tr")),i=this.tableConfiguration.columnConfigurations,n=0,u=i.length;n<u;n++)r=i[n],t.append(r.renderHtml());return t},n.prototype.setupHeader=function(){var t,n,i;return n=this.element.find("thead"),n?(t=this.constructHeader(),i=angular.element(n).find("tr"),i.remove(),n.append(t)):void 0},n.prototype.getSetup=function(){return this.tableConfiguration.paginated?new f(this.configurationVariableNames):new e(this.configurationVariableNames,this.tableConfiguration.list)},n.prototype.compile=function(){return this.setupHeader(),this.setup=this.getSetup(),this.setup.compile(this.element)},n.prototype.setupInitialSorting=function(n){var t,i,f,u,r;for(u=this.tableConfiguration.columnConfigurations,r=[],i=0,f=u.length;i<f;i++)if(t=u[i],t.initialSorting){if(!t.attribute)throw"initial-sorting specified without attribute.";n.predicate=t.attribute;r.push(n.descending=t.initialSorting==="desc")}else r.push(void 0);return r},n.prototype.post=function(n,t,i,r){return this.setupInitialSorting(n),n.getSortIcon||(n.getSortIcon=function(t){return t!==n.predicate?"glyphicon glyphicon-minus":n.descending?"glyphicon glyphicon-chevron-down":"glyphicon glyphicon-chevron-up"}),this.setup.link(n,t,i,r)},n}();u=function(){function n(n,t,i,r){if(this.lowerBound=n!=null?n:0,this.upperBound=t!=null?t:1,i==null&&(i=0),this.length=r!=null?r:1,this.length>this.upperBound-this.lowerBound)throw"sequence is too long";this.data=this.generate(i)}return n.prototype.generate=function(n){var r,t,i,u;for(n>this.upperBound-this.length?n=this.upperBound-this.length:n<this.lowerBound&&(n=this.lowerBound),u=[],r=t=n,i=parseInt(n)+parseInt(this.length)-1;n<=i?t<=i:t>=i;r=n<=i?++t:--t)u.push(r);return u},n.prototype.resetParameters=function(n,t,i){if(this.lowerBound=n,this.upperBound=t,this.length=i,this.length>this.upperBound-this.lowerBound)throw"sequence is too long";return this.data=this.generate(this.data[0])},n.prototype.relocate=function(n){var t;return t=this.data[0]+n,this.data=this.generate(t,t+this.length)},n.prototype.realignGreedy=function(n){var t;return n<this.data[0]?(t=n,this.data=this.generate(t)):n>this.data[this.length-1]?(t=n-(this.length-1),this.data=this.generate(t)):void 0},n.prototype.realignGenerous=function(){},n}();h="<div style='margin: 0px;'> <ul class='pagination'> <li ng-class='{disabled: getCurrentPage() <= 0}'> <a href='' ng-click='stepPage(-numberOfPages)'>First<\/a> <\/li> <li ng-show='showSectioning()' ng-class='{disabled: getCurrentPage() <= 0}'> <a href='' ng-click='jumpBack()'>&laquo;<\/a> <\/li> <li ng-class='{disabled: getCurrentPage() <= 0}'> <a href='' ng-click='stepPage(-1)'>&lsaquo;<\/a> <\/li> <li ng-class='{active: getCurrentPage() == page}' ng-repeat='page in pageSequence.data'> <a href='' ng-click='goToPage(page)'>{{page + 1}}<\/a> <\/li> <li ng-class='{disabled: getCurrentPage() >= numberOfPages - 1}'> <a href='' ng-click='stepPage(1)'>&rsaquo;<\/a> <\/li> <li ng-show='showSectioning()' ng-class='{disabled: getCurrentPage() >= numberOfPages - 1}'> <a href='' ng-click='jumpAhead()'>&raquo;<\/a> <\/li> <li ng-class='{disabled: getCurrentPage() >= numberOfPages - 1}'> <a href='' ng-click='stepPage(numberOfPages)'>Last<\/a> <\/li> <\/ul> <\/div>";angular.module("angular-table").directive("atTable",["$filter",function(n){return{restrict:"AC",scope:!0,compile:function(t,r){var f,u,e;return e=new s(t,r),f=new i(r.atConfig),u=new o(t,e,f),u.compile(),{post:function(t,i,r){return u.post(t,i,r,n)}}}}}]);angular.module("angular-table").directive("atSearchFilter",["$filter",function(){return{restrict:"AC",scope:!0,compile:function(){}}}]);angular.module("angular-table").directive("atPagination",[function(){return{restrict:"E",scope:!0,replace:!0,template:h,link:function(t,r,f){var s,h,c,l,o,e;return s=new i(f.atConfig),e=new n(t,s,f.atList),c=function(n,t,i){return n=Math.max(t,n),Math.min(i,n)},h=function(){return t.numberOfPages},l=function(n){return t.numberOfPages=n},o=function(){var n,i;if(e.getList())return e.getList().length>0?(n=Math.ceil(e.getList().length/e.getItemsPerPage()),l(n),i=t.showSectioning()?e.getMaxPages():n,t.pageSequence.resetParameters(0,n,i),e.setCurrentPage(c(e.getCurrentPage(),0,h()-1)),t.pageSequence.realignGreedy(e.getCurrentPage())):(l(1),t.pageSequence.resetParameters(0,1,1),e.setCurrentPage(0),t.pageSequence.realignGreedy(0))},t.showSectioning=function(){return e.getMaxPages()&&h()>e.getMaxPages()},t.getCurrentPage=function(){return e.getCurrentPage()},t.stepPage=function(n){return n=parseInt(n),e.setCurrentPage(c(e.getCurrentPage()+n,0,h()-1)),t.pageSequence.realignGreedy(e.getCurrentPage())},t.goToPage=function(n){return e.setCurrentPage(n)},t.jumpBack=function(){return t.stepPage(-e.getMaxPages())},t.jumpAhead=function(){return t.stepPage(e.getMaxPages())},t.pageSequence=new u,t.$watch(s.itemsPerPage,function(){return o()}),t.$watch(s.maxPages,function(){return o()}),t.$watch(f.atList,function(){return o()}),t.$watch(""+f.atList+".length",function(){return o()}),o()}}}]);angular.module("angular-table").directive("atImplicit",[function(){return{restrict:"AC",compile:function(n){var t;return t=n.attr("at-attribute"),!t,n.attr("at-accordion")&&(n.append('&nbsp;<a class="collapsed" aria-expanded="false" href="#collapse-{{item.$id}}" data-parent="#accordion-{{item.$id}}" data-toggle="collapse"><span class="glyphicon glyphicon-plus">&nbsp;<\/span><\/a>'),n.append('<div id="collapse-{{item.$id}}" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;"><div class="panel-body"><table><thead><tr><th>Qty<\/th><th>Item ID<\/th><th>Name<\/th><th>Price<\/th><\/tr><\/thead><tbody><tr><td>{{item.Qty}}<\/td><td>{{item.Item_ID}}<\/td><td>{{item.Web_Name}}<\/td><td>{{item.Price}}<\/td><\/tr><\/tbody><\/table><table><thead><tr><th>Eye<\/th><th>Color<\/th><th>Base<\/th><th>Diam.<\/th><th>Cyl<\/th><th>Axis<\/th><th>Other<\/th><\/tr><\/thead><tbody><tr><td>{{item.Eye}}<\/td><td>{{item.Color}}<\/td><td>{{item.BaseCurve}}<\/td><td>{{item.Diameter}}<\/td><td>{{item.Cylinder}}<\/td><td>{{item.Axis}}<\/td><td>{{item.Other}}<\/td><\/tr><\/tbody><\/table><\/div>'),n.append("<\/div>")),n.prepend("{{item."+t+"}}"),n}}}]);angular.module("angular-table").directive("atRefundme",[function(){return{restrict:"AC",compile:function(n,t){var t,i;return t=n.attr("at-refundme"),i=n.attr("at-refundamount"),n.append("<a ng-click='refundme(item."+t+")' class='btn btn-secondary btn-sm btn-icon icon-left'>Refund<\/a><input ng-model='refundamt' ng-change='setRefundAmt()' autofocus />")}}}]);angular.module("angular-table").directive("atPrint",[function(){return{restrict:"AC",compile:function(n,t){var t;return t=n.attr("at-print"),n.append("<a ng-click='print(item."+t+")' class='btn btn-secondary btn-sm btn-icon icon-left'>Print<\/a>")}}}]);angular.module("angular-table").directive("atAdditem",[function(){return{restrict:"AC",compile:function(n,t){var t,i;return t=n.attr("at-attribute"),i=n.attr("at-title"),n.append("<a ng-click='addItem(item."+t+")' class='btn btn-secondary btn-sm btn-icon icon-left'>"+i+"<\/a>")}}}]);angular.module("angular-table").directive("atInputvalue",[function(){return{restrict:"AC",compile:function(n,t){var t;if(t=n.attr("at-inputvalue"),!t)throw"at-inputvalue specified without at-attribute"+n.html();return n.html("<span class='col-sm-4 form-control' ng-hide='item.editing' ng-dblclick='editItem(item)'>{{item."+t+"}}<\/span><input ng-show='item.editing' ng-model='item."+t+"' ng-blur='doneEditing(item)' autofocus />")}}}]);angular.module("angular-table").directive("atModal",[function(){return{restrict:"AC",compile:function(n,t){var t;return(t=n.attr("at-Modal"),t=="Prescription")?n.append('<div ng-if="item.IsPrescription"><a class="label label-success" ng-click="openPrescription(item)"><i class="glyphicon glyphicon-file">&nbsp;<\/i>Prescription Verify<\/a><\/div>'):t=="Refund"?n.append('<div ng-if="item.IsInvoice"><a class="label label-success" ng-click="openPrescription(item)"><i class="glyphicon glyphicon-file">&nbsp;<\/i>Refund Verify<\/a><\/div>'):void 0}}}])}).call(this);
//# sourceMappingURL=angular-table.min.js.map
