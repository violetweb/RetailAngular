@{
    PageData["title"] = "BCeen : Retail Invoices";
}

<div class="panel panel-default" ng-controller="InvoicesController as invoice">

    <div class="panel-heading">

        <div class="col-sm-1 pagination"><span>No. Items: ({{filteredList.length}} )</span></div>
        <div class="col-sm-6"><at-pagination at-config="config" at-list="filteredList"></at-pagination></div>
        <div class="col-sm-2 pagination">
            <input type="text" ng-change="updateFilteredList()" ng-model="query" placeholder="Filter Results" class="form-control form-focus-purple ng-valid ng-dirty" />

        </div>

        <div class="panel-options">
            <a href="" data-toggle="panel">
                <span class="collapse-icon">&ndash;</span>
                <span class="expand-icon">+</span>
            </a>
            <a href="" data-toggle="remove">
                &times;
            </a>
        </div>
    </div>

    

    <div class="panel-body">
    
        <form id="Invoice" name="invoiceForm" novalidate>

            <table at-table at-list="filteredList" at-config="config" class="table table-striped table-condensed table-bordered dataTable" at-paginated>
            <thead></thead>
            <tbody>
                <tr class="panel-group" at-row="separator">
                    <td at-print="Invoice_Number"></td>                  
                    <td at-sortable at-implicit at-initial-sorting="desc" at-attribute="InvoiceDate" at-title="Date"></td>
                    <td at-sortable at-implicit at-initial-sorting="desc" at-attribute="Invoice_Number" at-title="Inv No.">     
                                 
                    </td>
                    <td at-sortable at-initial-sorting="desc" at-implicit at-accordion="invoicedetails" at-attribute="Order_ID" at-title="Order ID"></td>
                    <td at-sortable at-implicit at-attribute="Amount" at-title="Amt"></td>
                    <td at-sortable at-implicit at-attribute="Shipping_Courier" at-title="Courier"></td>
                    <td at-implicit at-inputvalue="Tracking_Number" at-title="Tracking Number" at-modal="Prescription"></td>

                    <td at-sortable at-implicit at-attribute="First_Name" at-title="First"></td>
                    <td at-sortable at-implicit at-attribute="Last_Name" at-title="Last"></td>
                    <td at-sortable at-implicit at-attribute="Appt_Street" at-title="Apt"></td>
                    <td at-sortable at-implicit at-attribute="Street_Name" at-title="Street"></td>
                    <td at-sortable at-implicit at-attribute="City" at-title="City"></td>
                    <td at-sortable at-implicit at-attribute="Province" at-title="Prov"></td>
                    <td at-sortable at-implicit at-attribute="Postal_Code" at-title="postal"></td>
                    <td at-sortable at-implicit at-attribute="Email_Address" at-title="Email"></td>
                    <td at-sortable at-implicit at-attribute="Phone" at-title="Phone"></td>

                </tr>
            </tbody>
        </table>
         
        </form>
    </div>



    <script type="text/ng-template" id="Prescription-Modal">
        <div class="modal-header"><h4 class="modal-title">Verify Prescription</h4></div>
        <div class="modal-body" ng-if="IsDoctor">Doctor Name: <span ng-bind="DoctorName"></span><br>Doctor Phone: <span ng-bind="DoctorPhone"></span></div>
        <div class="modal-body" ng-if="IsFile">Open Uploaded Prescription File : <a ng-click="openPDF(FileName)" ng-bind="FileName" class="btn-success"></a></div>
        <div class="modal-body">
            <table class="table table-striped table-condensed">
                <tr>
                    <td ng-repeat="item in invoiceitems">
                        <table class="table table-striped table-condensed">
                            <tr>
                                <td>Eye</td>
                                <td ng-bind="item.Eye"></td>
                            </tr>
                            <tr>
                                <td>Add</td>
                                <td ng-bind="item.Add"></td>
                            </tr>
                            <tr>
                                <td>Axis</td>
                                <td ng-bind="item.Axis"></td>
                            </tr>
                            <tr>
                                <td>Base Curve</td>
                                <td ng-bind="item.Basecurve"></td>
                            </tr>
                            <tr>
                                <td>Cylinder</td>
                                <td ng-bind="item.Cylinder"></td>
                            </tr>
                            <tr>
                                <td>Diameter</td>
                                <td ng-bind="item.Diameter"></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </table>
        </div>
        <div class="modal-footer"><button type="button" class="btn btn-info" ng-click="currentModal.dismiss();">Continue</button></div>
    </script>
</div>
